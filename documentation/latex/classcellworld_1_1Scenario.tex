\doxysubsection{Класс cellworld\+::Scenario}
\hypertarget{classcellworld_1_1Scenario}{}\label{classcellworld_1_1Scenario}\index{cellworld::Scenario@{cellworld::Scenario}}


Класс сценария -\/ расширенный класс поля  




{\ttfamily \#include $<$scenario.\+h$>$}

Граф наследования\+:cellworld\+::Scenario\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classcellworld_1_1Scenario}
\end{center}
\end{figure}
\doxysubsubsubsection*{Открытые члены}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classcellworld_1_1Scenario_a25b969350d550584a6dd80c276e1a5db}\label{classcellworld_1_1Scenario_a25b969350d550584a6dd80c276e1a5db} 
{\bfseries Scenario} (int size\+\_\+x=0, int size\+\_\+y=0)
\item 
\Hypertarget{classcellworld_1_1Scenario_ae58ed32e10fcdf1379f847fd09df0612}\label{classcellworld_1_1Scenario_ae58ed32e10fcdf1379f847fd09df0612} 
void {\bfseries make\+New} ()
\begin{DoxyCompactList}\small\item\em Очистить поле \end{DoxyCompactList}\item 
\Hypertarget{classcellworld_1_1Scenario_a3526cfdb1588c6faa0d1df0acec94f83}\label{classcellworld_1_1Scenario_a3526cfdb1588c6faa0d1df0acec94f83} 
void {\bfseries make\+One\+Step} ()
\begin{DoxyCompactList}\small\item\em Сделать 1 шаг симуляции \end{DoxyCompactList}\item 
\Hypertarget{classcellworld_1_1Scenario_a26260bc4739b03fb3702f1af6748f694}\label{classcellworld_1_1Scenario_a26260bc4739b03fb3702f1af6748f694} 
void {\bfseries spawn\+Creatures} (int amount)
\begin{DoxyCompactList}\small\item\em Создать данное количество существ на случайных позициях поля, использовать только на пустом поле. Также задаёт начальную популяцию. \end{DoxyCompactList}\item 
\Hypertarget{classcellworld_1_1Scenario_a7b5cd8538b3623893334850e564a513b}\label{classcellworld_1_1Scenario_a7b5cd8538b3623893334850e564a513b} 
void {\bfseries new\+Cycle} ()
\begin{DoxyCompactList}\small\item\em Сделать новый цикл \end{DoxyCompactList}\item 
void {\bfseries make\+Rewards} (Position, Position, float strength)
\begin{DoxyCompactList}\small\item\em Задать прямоугольник двумя позициями, за нахождение на котором существо каждый ход получает энергию=strength. \end{DoxyCompactList}\item 
void {\bfseries give\+Rewards} ()
\begin{DoxyCompactList}\small\item\em Раздать награды, использует многопоточность \end{DoxyCompactList}\item 
void {\bfseries Cancel\+Rewards\+Change} ()
\begin{DoxyCompactList}\small\item\em Вернуться к предыдущему состоянию системы наград. \end{DoxyCompactList}\item 
void {\bfseries reset\+Rewards} ()
\begin{DoxyCompactList}\small\item\em Удалить все награды. \end{DoxyCompactList}\item 
void {\bfseries rewards\+Editor} (Im\+Vec2 window\+\_\+pos, Im\+Vec2 window\+\_\+size, float strength, Im\+Texture\+ID texture)
\begin{DoxyCompactList}\small\item\em Ключевая часть графического интерфейса настройки наград, позволяет на пустом поле задавать прямоугольники, на которых будут награды. \end{DoxyCompactList}\item 
void {\bfseries update\+Rewards\+Texture} ()
\begin{DoxyCompactList}\small\item\em Синхронизирует графическое представление наград с текущим состоянием наград \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{Indent}\textbf{ Геттеры}\par
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classcellworld_1_1Scenario_a54ff4f780e1c30987a3f53d856cb7bbc}\label{classcellworld_1_1Scenario_a54ff4f780e1c30987a3f53d856cb7bbc} 
int {\bfseries get\+Initial\+Population} ()
\item 
\Hypertarget{classcellworld_1_1Scenario_afe09bcdd1d90e32d65b3b456e095ecdd}\label{classcellworld_1_1Scenario_afe09bcdd1d90e32d65b3b456e095ecdd} 
long long {\bfseries get\+Iteration} ()
\end{DoxyCompactItemize}
\end{Indent}
\doxyparagraph*{Открытые члены унаследованные от \mbox{\hyperlink{classcellworld_1_1Field}{cellworld\+::\+Field}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Field} (int size\+\_\+x=0, int size\+\_\+y=0)
\begin{DoxyCompactList}\small\item\em Конструктор класса, задающий ширину и длину поля. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classcellworld_1_1Field_aefdc61cde8bf2ba6879b13a6d8fa8159}{update\+Positions}} ()
\begin{DoxyCompactList}\small\item\em Обновляет позиции существ. \end{DoxyCompactList}\item 
void {\bfseries update\+States} ()
\begin{DoxyCompactList}\small\item\em Обновляет состояние существ. Если у живого существа \texorpdfstring{$<$}{<}0 энергии -\/ оно умирает. Если существо хочет размножаться, то одно из соседних существ становится живым, с геном, наследуемым от предка. Не инициализирует объекты. \end{DoxyCompactList}\item 
Position {\bfseries find\+Close\+Position} (\mbox{\hyperlink{classcellworld_1_1Creature}{Creature}} \texorpdfstring{$\ast$}{*}ancestor)
\begin{DoxyCompactList}\small\item\em Соседняя позиция относительно существа, желающего размножиться, которая становится живой. Если позиция не найдена, возвращает bad\+\_\+position. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcellworld_1_1Creature}{Creature}} \& {\bfseries find\+Creature} (\mbox{\hyperlink{classcellworld_1_1Creature}{Creature}} \texorpdfstring{$\ast$}{*}finder, int direction)
\begin{DoxyCompactList}\small\item\em Поиск существа из определённого существа в определённом направлении. \end{DoxyCompactList}\item 
void {\bfseries clear} ()
\begin{DoxyCompactList}\small\item\em Очистка поля \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
const \mbox{\hyperlink{classcellworld_1_1Creature}{Creature}} \& {\bfseries get\+Creature} (const Position \&pos) const
\item 
\mbox{\hyperlink{classcellworld_1_1Creature}{Creature}} \& {\bfseries get\+Creature} (const Position \&pos)
\item 
const \mbox{\hyperlink{classcellworld_1_1Creature}{Creature}} \& {\bfseries get\+Creature} (const int \&index) const
\item 
\mbox{\hyperlink{classcellworld_1_1Creature}{Creature}} \& {\bfseries get\+Creature} (const int \&index)
\item 
const \mbox{\hyperlink{classcellworld_1_1Creature}{Creature}} \& {\bfseries operator\mbox{[}$\,$\mbox{]}} (const int \&index) const
\item 
\mbox{\hyperlink{classcellworld_1_1Creature}{Creature}} \& {\bfseries operator\mbox{[}$\,$\mbox{]}} (const int \&index)
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
unsigned int {\bfseries get\+Color} (const Position \&pos) const
\item 
unsigned int {\bfseries get\+Color} (const int \&index) const
\item 
int {\bfseries sizeX} () const
\item 
int {\bfseries sizeY} () const
\item 
int {\bfseries size} () const
\item 
const int \& {\bfseries get\+Alive} ()
\item 
const int \& {\bfseries get\+Dead} ()
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
bool {\bfseries validX} (const int \&x) const
\item 
bool {\bfseries validY} (const int \&y) const
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classcellworld_1_1Field_a3be446e4fa6110c0f6ba99de95c6b85c}{create\+Texture}} ()
\item 
void \texorpdfstring{$\ast$}{*} {\bfseries get\+Texture} ()
\begin{DoxyCompactList}\small\item\em Получить текстуру для работы с Im\+Gui. \end{DoxyCompactList}\item 
const GLuint \& {\bfseries get\+GLTexture} ()
\begin{DoxyCompactList}\small\item\em Получить текстуру для работы с Open\+GL. \end{DoxyCompactList}\item 
void {\bfseries update\+Texture} ()
\begin{DoxyCompactList}\small\item\em Синхронизировать текстуру с текущим состоянием поля. \end{DoxyCompactList}\item 
void {\bfseries unbind\+Texture} ()
\begin{DoxyCompactList}\small\item\em Закончить синхронизацию с полем. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsubsection*{Открытые атрибуты}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classcellworld_1_1Scenario_a10d1bbfa5903996d60f1ce34f2ba8dd7}\label{classcellworld_1_1Scenario_a10d1bbfa5903996d60f1ce34f2ba8dd7} 
int {\bfseries cycle\+\_\+len\+\_\+}
\begin{DoxyCompactList}\small\item\em Длина цикла, находится в public, поскольку нужен доступ как для чтения так и для записи. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsubsection*{Закрытые члены}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classcellworld_1_1Scenario_a97f8d0b2e9e71a831a3e53cc8b483e87}\label{classcellworld_1_1Scenario_a97f8d0b2e9e71a831a3e53cc8b483e87} 
Position {\bfseries convert\+Input} (Im\+Vec2 begin, Im\+Vec2 input, int square\+\_\+size)
\begin{DoxyCompactList}\small\item\em brief Переводит координату пикселя экрана в логическую позицию \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsubsection*{Закрытые данные}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classcellworld_1_1Scenario_a8737cfdc98a0ac173a9e8d31013d0179}\label{classcellworld_1_1Scenario_a8737cfdc98a0ac173a9e8d31013d0179} 
int {\bfseries initial\+\_\+population\+\_\+}
\begin{DoxyCompactList}\small\item\em Начальная популяция \end{DoxyCompactList}\item 
\Hypertarget{classcellworld_1_1Scenario_af9c1df1a677ee470e8b585c29de32457}\label{classcellworld_1_1Scenario_af9c1df1a677ee470e8b585c29de32457} 
long long {\bfseries iteration\+\_\+}
\begin{DoxyCompactList}\small\item\em Количество прошедших шагов симуляции. \end{DoxyCompactList}\item 
\Hypertarget{classcellworld_1_1Scenario_a787811d6e24995aadc886167698f320c}\label{classcellworld_1_1Scenario_a787811d6e24995aadc886167698f320c} 
std\+::vector$<$ float $>$ {\bfseries rewards\+\_\+}
\begin{DoxyCompactList}\small\item\em Текущее состояние наград \end{DoxyCompactList}\item 
\Hypertarget{classcellworld_1_1Scenario_a0e2458985de2a320ba0822f3a8c0fa58}\label{classcellworld_1_1Scenario_a0e2458985de2a320ba0822f3a8c0fa58} 
std\+::vector$<$ float $>$ {\bfseries rewards\+\_\+backup\+\_\+}
\begin{DoxyCompactList}\small\item\em Предыдущее состояние наград \end{DoxyCompactList}\item 
\Hypertarget{classcellworld_1_1Scenario_a74c7ae9527cd91f02c394fa66e5c5ecd}\label{classcellworld_1_1Scenario_a74c7ae9527cd91f02c394fa66e5c5ecd} 
std\+::vector$<$ \mbox{\hyperlink{classcellworld_1_1Creature}{Creature}} \texorpdfstring{$\ast$}{*} $>$ {\bfseries survivors\+\_\+}
\begin{DoxyCompactList}\small\item\em Указатели на выжившие существа в конце цикла \end{DoxyCompactList}\item 
\Hypertarget{classcellworld_1_1Scenario_a334a23d8ca069ca2d35e72d1f09483ec}\label{classcellworld_1_1Scenario_a334a23d8ca069ca2d35e72d1f09483ec} 
std\+::vector$<$ int $>$ {\bfseries positions\+\_\+}
\begin{DoxyCompactList}\small\item\em Перетасованные все индексы поля, используется для спавна существ на рандомных позициях. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsubsection*{Друзья}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classcellworld_1_1Scenario_af70e8941de1d6a4f4170663d5d715982}\label{classcellworld_1_1Scenario_af70e8941de1d6a4f4170663d5d715982} 
void {\bfseries save\+World} (const char \texorpdfstring{$\ast$}{*}path, \mbox{\hyperlink{classcellworld_1_1Scenario}{Scenario}} \texorpdfstring{$\ast$}{*}current\+\_\+field, const unsigned int \&seed)
\begin{DoxyCompactList}\small\item\em Функция сохранение мира \end{DoxyCompactList}\item 
\Hypertarget{classcellworld_1_1Scenario_a2500e88fabeb3899afc8278ba212432b}\label{classcellworld_1_1Scenario_a2500e88fabeb3899afc8278ba212432b} 
void {\bfseries load\+World} (const char \texorpdfstring{$\ast$}{*}path, \mbox{\hyperlink{classcellworld_1_1Scenario}{Scenario}} \texorpdfstring{$\ast$}{*}current\+\_\+field, unsigned int \&seed)
\begin{DoxyCompactList}\small\item\em Функция загрузки мира \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsubsection*{Дополнительные унаследованные члены}
\doxyparagraph*{Статические открытые данные унаследованные от \mbox{\hyperlink{classcellworld_1_1Field}{cellworld\+::\+Field}}}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classcellworld_1_1Creature}{Creature}} {\bfseries bad\+\_\+creature} =\mbox{\hyperlink{classcellworld_1_1Creature}{Creature}}()
\end{DoxyCompactItemize}
\doxyparagraph*{Защищенные данные унаследованные от \mbox{\hyperlink{classcellworld_1_1Field}{cellworld\+::\+Field}}}
\begin{DoxyCompactItemize}
\item 
int {\bfseries size\+\_\+x\+\_\+}
\begin{DoxyCompactList}\small\item\em Ширина \end{DoxyCompactList}\item 
int {\bfseries size\+\_\+y\+\_\+}
\begin{DoxyCompactList}\small\item\em Высота \end{DoxyCompactList}\item 
int {\bfseries size\+\_\+}
\begin{DoxyCompactList}\small\item\em Площадь \end{DoxyCompactList}\item 
std\+::vector$<$ \mbox{\hyperlink{classcellworld_1_1Creature}{Creature}} \texorpdfstring{$\ast$}{*} $>$ {\bfseries zoo\+\_\+ptr\+\_\+}
\begin{DoxyCompactList}\small\item\em Указатели на текущее состояние поля \end{DoxyCompactList}\item 
std\+::vector$<$ \mbox{\hyperlink{classcellworld_1_1Creature}{Creature}} \texorpdfstring{$\ast$}{*} $>$ {\bfseries empty\+\_\+zoo\+\_\+ptr\+\_\+}
\begin{DoxyCompactList}\small\item\em Указатели на запасное состояние поля \end{DoxyCompactList}\item 
std\+::vector$<$ \mbox{\hyperlink{classcellworld_1_1Creature}{Creature}} $>$ {\bfseries storage\+\_\+}
\begin{DoxyCompactList}\small\item\em Хранилище существ \end{DoxyCompactList}\item 
std\+::vector$<$ unsigned int $>$ {\bfseries colors\+\_\+}
\begin{DoxyCompactList}\small\item\em Хранит цвета каждого существа, используется при создании текстуры. \end{DoxyCompactList}\item 
GLuint {\bfseries texture\+\_\+}
\begin{DoxyCompactList}\small\item\em Указатель на текстуру \end{DoxyCompactList}\item 
int {\bfseries alive\+\_\+count\+\_\+}
\begin{DoxyCompactList}\small\item\em Количество живых существ в мире \end{DoxyCompactList}\item 
int {\bfseries dead\+\_\+count\+\_\+}
\begin{DoxyCompactList}\small\item\em Количество мёртвых существ в мире \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsubsection{Подробное описание}
В расширенных функционал входят\+:
\begin{DoxyItemize}
\item создание живых существ со старта;
\item сохранение и загрузка миров;
\item циклический мир -\/ после x шагов(x -\/ длина цикла), мир оказывается в начальном состоянии, однако геном новых существ базируется на геноме существ, выживших в конце предыдущей итерации;
\item система наград -\/ перед началом симуляции можно задать определённые позиции за расположение на которых, живое существо получает определённое количество энергии каждый ход; 
\end{DoxyItemize}

Объявления и описания членов классов находятся в файлах\+:\begin{DoxyCompactItemize}
\item 
scenario/include/scenario/scenario.\+h\item 
scenario/scenario.\+cpp\end{DoxyCompactItemize}
