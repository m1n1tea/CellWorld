\doxysection{Класс cellworld\+::Scenario}
\hypertarget{classcellworld_1_1_scenario}{}\label{classcellworld_1_1_scenario}\index{cellworld::Scenario@{cellworld::Scenario}}


Класс сценария -\/ расширенный класс поля В расширенных функционал входят\+:  




{\ttfamily \#include $<$scenario.\+h$>$}

Граф наследования\+:cellworld\+::Scenario\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classcellworld_1_1_scenario}
\end{center}
\end{figure}
\doxysubsubsection*{Открытые члены}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcellworld_1_1_scenario_a25b969350d550584a6dd80c276e1a5db}{Scenario}} (int size\+\_\+x=0, int size\+\_\+y=0)
\begin{DoxyCompactList}\small\item\em Конструктор сценария \end{DoxyCompactList}\item 
\Hypertarget{classcellworld_1_1_scenario_ae58ed32e10fcdf1379f847fd09df0612}\label{classcellworld_1_1_scenario_ae58ed32e10fcdf1379f847fd09df0612} 
void {\bfseries make\+New} ()
\begin{DoxyCompactList}\small\item\em Очистить поле \end{DoxyCompactList}\item 
\Hypertarget{classcellworld_1_1_scenario_a3526cfdb1588c6faa0d1df0acec94f83}\label{classcellworld_1_1_scenario_a3526cfdb1588c6faa0d1df0acec94f83} 
void {\bfseries make\+One\+Step} ()
\begin{DoxyCompactList}\small\item\em Сделать 1 шаг симуляции \end{DoxyCompactList}\item 
\Hypertarget{classcellworld_1_1_scenario_a26260bc4739b03fb3702f1af6748f694}\label{classcellworld_1_1_scenario_a26260bc4739b03fb3702f1af6748f694} 
void {\bfseries spawn\+Creatures} (int amount)
\begin{DoxyCompactList}\small\item\em Создать данное количество существ на случайных позициях поля, использовать только на пустом поле. Также задаёт начальную популяцию. \end{DoxyCompactList}\item 
\Hypertarget{classcellworld_1_1_scenario_a7b5cd8538b3623893334850e564a513b}\label{classcellworld_1_1_scenario_a7b5cd8538b3623893334850e564a513b} 
void {\bfseries new\+Cycle} ()
\begin{DoxyCompactList}\small\item\em Сделать новый цикл \end{DoxyCompactList}\item 
void {\bfseries make\+Rewards} (Position, Position, float strength)
\begin{DoxyCompactList}\small\item\em Задать прямоугольник двумя позициями, за нахождение на котором существо каждый ход получает энергию=strength. \end{DoxyCompactList}\item 
void {\bfseries give\+Rewards} ()
\begin{DoxyCompactList}\small\item\em Раздать награды \end{DoxyCompactList}\item 
void {\bfseries Cancel\+Rewards\+Change} ()
\begin{DoxyCompactList}\small\item\em Вернуться к предыдущему состоянию системы наград. \end{DoxyCompactList}\item 
void {\bfseries reset\+Rewards} ()
\begin{DoxyCompactList}\small\item\em Удалить все награды. \end{DoxyCompactList}\item 
void {\bfseries rewards\+Editor} (Im\+Vec2 window\+\_\+pos, Im\+Vec2 window\+\_\+size, float strength, Im\+Texture\+ID texture)
\begin{DoxyCompactList}\small\item\em Ключевая часть графического интерфейса настройки наград, позволяет на пустом поле задавать прямоугольнки, на которых будут награды. \end{DoxyCompactList}\item 
void {\bfseries update\+Rewards\+Texture} ()
\begin{DoxyCompactList}\small\item\em Синхронизирует графическое представление наград с текущим состоянием наград \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{Indent}\textbf{ Геттеры}\par
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classcellworld_1_1_scenario_a54ff4f780e1c30987a3f53d856cb7bbc}\label{classcellworld_1_1_scenario_a54ff4f780e1c30987a3f53d856cb7bbc} 
int {\bfseries get\+Initial\+Population} ()
\item 
\Hypertarget{classcellworld_1_1_scenario_afe09bcdd1d90e32d65b3b456e095ecdd}\label{classcellworld_1_1_scenario_afe09bcdd1d90e32d65b3b456e095ecdd} 
long long {\bfseries get\+Iteration} ()
\end{DoxyCompactItemize}
\end{Indent}
\doxysubsection*{Открытые члены унаследованные от \mbox{\hyperlink{classcellworld_1_1_field}{cellworld\+::\+Field}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcellworld_1_1_field_aeb6483a4cced44a880507f84e3a794f3}{Field}} (int size\+\_\+x=0, int size\+\_\+y=0)
\begin{DoxyCompactList}\small\item\em Конструктор класса с заданным размером. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classcellworld_1_1_field_aefdc61cde8bf2ba6879b13a6d8fa8159}{update\+Positions}} ()
\begin{DoxyCompactList}\small\item\em Обновляет позиции существ. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classcellworld_1_1_field_a8ad12674d9ee770f2a4db9c081738f60}{update\+States}} ()
\begin{DoxyCompactList}\small\item\em Обновляет состояние существ. Если у живого существа \texorpdfstring{$<$}{<}0 энергии -\/ оно умирает. Если существо хочет размножится, то одно из сосодних существ становится живым, с геном, наследуемым от предка. Работает в многопоточном режиме, без инициализаций. \end{DoxyCompactList}\item 
Position {\bfseries find\+Close\+Position} (\mbox{\hyperlink{classcellworld_1_1_creature}{Creature}} \texorpdfstring{$\ast$}{*}ancestor)
\begin{DoxyCompactList}\small\item\em Соседняя позиция относительно существа, желающего размножиться, которая становится живой. Если позиция не найдена, возвращает bad\+\_\+position. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcellworld_1_1_creature}{Creature}} \& \mbox{\hyperlink{classcellworld_1_1_field_ac9c13f6727ad327c7c7e15a852a7d9ed}{find\+Creature}} (\mbox{\hyperlink{classcellworld_1_1_creature}{Creature}} \texorpdfstring{$\ast$}{*}finder, int direction)
\begin{DoxyCompactList}\small\item\em Поиск существа из определённого сущетсва в определённом направлении. \end{DoxyCompactList}\item 
void {\bfseries clear} ()
\begin{DoxyCompactList}\small\item\em Очистка поля \end{DoxyCompactList}\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
const \mbox{\hyperlink{classcellworld_1_1_creature}{Creature}} \& {\bfseries get\+Creature} (const Position \&pos) const
\item 
\mbox{\hyperlink{classcellworld_1_1_creature}{Creature}} \& {\bfseries get\+Creature} (const Position \&pos)
\item 
const \mbox{\hyperlink{classcellworld_1_1_creature}{Creature}} \& {\bfseries get\+Creature} (const int \&index) const
\item 
\mbox{\hyperlink{classcellworld_1_1_creature}{Creature}} \& {\bfseries get\+Creature} (const int \&index)
\item 
const \mbox{\hyperlink{classcellworld_1_1_creature}{Creature}} \& {\bfseries operator\mbox{[}$\,$\mbox{]}} (const int \&index) const
\item 
\mbox{\hyperlink{classcellworld_1_1_creature}{Creature}} \& {\bfseries operator\mbox{[}$\,$\mbox{]}} (const int \&index)
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
unsigned int {\bfseries get\+Color} (const Position \&pos) const
\item 
unsigned int {\bfseries get\+Color} (const int \&index) const
\item 
int {\bfseries sizeX} () const
\item 
int {\bfseries sizeY} () const
\item 
int {\bfseries size} () const
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
bool {\bfseries validX} (const int \&x) const
\item 
bool {\bfseries validY} (const int \&y) const
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classcellworld_1_1_field_a3be446e4fa6110c0f6ba99de95c6b85c}{create\+Texture}} ()
\item 
void \texorpdfstring{$\ast$}{*} {\bfseries get\+Texture} ()
\begin{DoxyCompactList}\small\item\em Получить текстуру для работы с Im\+Gui. \end{DoxyCompactList}\item 
const GLuint \& {\bfseries get\+GLTexture} ()
\begin{DoxyCompactList}\small\item\em Получить текстуру для работы с Open\+GL. \end{DoxyCompactList}\item 
void {\bfseries update\+Texture} ()
\begin{DoxyCompactList}\small\item\em Синхронизировать текстуру с текущим состоянием поля. \end{DoxyCompactList}\item 
void {\bfseries unbind\+Texture} ()
\begin{DoxyCompactList}\small\item\em Закончить синхронизацию с полем. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Открытые атрибуты}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classcellworld_1_1_scenario_a10d1bbfa5903996d60f1ce34f2ba8dd7}\label{classcellworld_1_1_scenario_a10d1bbfa5903996d60f1ce34f2ba8dd7} 
int {\bfseries cycle\+\_\+len\+\_\+}
\begin{DoxyCompactList}\small\item\em Длина цикла, находится в public, поскольку нужен доступ как для чтения так и для записи. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Закрытые члены}
\begin{DoxyCompactItemize}
\item 
Position \mbox{\hyperlink{classcellworld_1_1_scenario_a97f8d0b2e9e71a831a3e53cc8b483e87}{convert\+Input}} (Im\+Vec2 begin, Im\+Vec2 input, int square\+\_\+size)
\begin{DoxyCompactList}\small\item\em Переводит координату пикселя экрана в логическую позицию \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Закрытые данные}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classcellworld_1_1_scenario_a8737cfdc98a0ac173a9e8d31013d0179}\label{classcellworld_1_1_scenario_a8737cfdc98a0ac173a9e8d31013d0179} 
int {\bfseries initial\+\_\+population\+\_\+}
\begin{DoxyCompactList}\small\item\em Начальная популяция \end{DoxyCompactList}\item 
\Hypertarget{classcellworld_1_1_scenario_af9c1df1a677ee470e8b585c29de32457}\label{classcellworld_1_1_scenario_af9c1df1a677ee470e8b585c29de32457} 
long long {\bfseries iteration\+\_\+}
\begin{DoxyCompactList}\small\item\em Количество прошедших шагов симуляции. \end{DoxyCompactList}\item 
\Hypertarget{classcellworld_1_1_scenario_a787811d6e24995aadc886167698f320c}\label{classcellworld_1_1_scenario_a787811d6e24995aadc886167698f320c} 
std\+::vector$<$ float $>$ {\bfseries rewards\+\_\+}
\begin{DoxyCompactList}\small\item\em Текущее состояние наград \end{DoxyCompactList}\item 
\Hypertarget{classcellworld_1_1_scenario_a0e2458985de2a320ba0822f3a8c0fa58}\label{classcellworld_1_1_scenario_a0e2458985de2a320ba0822f3a8c0fa58} 
std\+::vector$<$ float $>$ {\bfseries rewards\+\_\+backup\+\_\+}
\begin{DoxyCompactList}\small\item\em Предыдущее состояние наград \end{DoxyCompactList}\item 
\Hypertarget{classcellworld_1_1_scenario_a74c7ae9527cd91f02c394fa66e5c5ecd}\label{classcellworld_1_1_scenario_a74c7ae9527cd91f02c394fa66e5c5ecd} 
std\+::vector$<$ \mbox{\hyperlink{classcellworld_1_1_creature}{Creature}} \texorpdfstring{$\ast$}{*} $>$ {\bfseries survivors\+\_\+}
\begin{DoxyCompactList}\small\item\em Указатели на выжившие существа в конце цикла \end{DoxyCompactList}\item 
\Hypertarget{classcellworld_1_1_scenario_a334a23d8ca069ca2d35e72d1f09483ec}\label{classcellworld_1_1_scenario_a334a23d8ca069ca2d35e72d1f09483ec} 
std\+::vector$<$ int $>$ {\bfseries positions\+\_\+}
\begin{DoxyCompactList}\small\item\em Перетасованные все индексы поля, используется для спавна существ на рандомных позициях. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Друзья}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classcellworld_1_1_scenario_af70e8941de1d6a4f4170663d5d715982}{save\+World}} (const char \texorpdfstring{$\ast$}{*}path, \mbox{\hyperlink{classcellworld_1_1_scenario}{Scenario}} \texorpdfstring{$\ast$}{*}current\+\_\+field, const unsigned int \&seed)
\begin{DoxyCompactList}\small\item\em Функция сохранение мира \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classcellworld_1_1_scenario_a2500e88fabeb3899afc8278ba212432b}{load\+World}} (const char \texorpdfstring{$\ast$}{*}path, \mbox{\hyperlink{classcellworld_1_1_scenario}{Scenario}} \texorpdfstring{$\ast$}{*}current\+\_\+field, unsigned int \&seed)
\begin{DoxyCompactList}\small\item\em Функция загрузки мира \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Дополнительные унаследованные члены}
\doxysubsection*{Статические открытые данные унаследованные от \mbox{\hyperlink{classcellworld_1_1_field}{cellworld\+::\+Field}}}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classcellworld_1_1_creature}{Creature}} {\bfseries bad\+\_\+creature} =\mbox{\hyperlink{classcellworld_1_1_creature}{Creature}}()
\end{DoxyCompactItemize}
\doxysubsection*{Защищенные данные унаследованные от \mbox{\hyperlink{classcellworld_1_1_field}{cellworld\+::\+Field}}}
\begin{DoxyCompactItemize}
\item 
std\+::vector$<$ \mbox{\hyperlink{classcellworld_1_1_creature}{Creature}} \texorpdfstring{$\ast$}{*} $>$ {\bfseries zoo\+\_\+ptr\+\_\+}
\begin{DoxyCompactList}\small\item\em Указатели на текущее состояние поля \end{DoxyCompactList}\item 
std\+::vector$<$ \mbox{\hyperlink{classcellworld_1_1_creature}{Creature}} \texorpdfstring{$\ast$}{*} $>$ {\bfseries empty\+\_\+zoo\+\_\+ptr\+\_\+}
\begin{DoxyCompactList}\small\item\em Указатели на запасное состояние поля \end{DoxyCompactList}\item 
std\+::vector$<$ \mbox{\hyperlink{classcellworld_1_1_creature}{Creature}} $>$ {\bfseries storage\+\_\+}
\begin{DoxyCompactList}\small\item\em Хранилище существ \end{DoxyCompactList}\item 
std\+::vector$<$ unsigned int $>$ {\bfseries colors\+\_\+}
\begin{DoxyCompactList}\small\item\em Хранит цвета каждого существа, используется при создании текстуры. \end{DoxyCompactList}\item 
GLuint {\bfseries texture\+\_\+}
\begin{DoxyCompactList}\small\item\em Указатель на текстуру \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Подробное описание}
Класс сценария -\/ расширенный класс поля В расширенных функционал входят\+: 


\begin{DoxyItemize}
\item создание живых существ со старта;
\item сохранение и загрузка миров;
\item циклический мир -\/ после x шагов(x -\/ длина цикла), мир оказывается в начальном состоянии, однако геном новых существ базируется на геноме существ, выживших в конце предыдущей итерации;
\item система наград -\/ перед началом симуляции можно задать определённые позиции за расположение на которых, живое существо получает определённое количество энергии каждый ход; 
\end{DoxyItemize}

\doxysubsection{Конструктор(ы)}
\Hypertarget{classcellworld_1_1_scenario_a25b969350d550584a6dd80c276e1a5db}\label{classcellworld_1_1_scenario_a25b969350d550584a6dd80c276e1a5db} 
\index{cellworld::Scenario@{cellworld::Scenario}!Scenario@{Scenario}}
\index{Scenario@{Scenario}!cellworld::Scenario@{cellworld::Scenario}}
\doxysubsubsection{\texorpdfstring{Scenario()}{Scenario()}}
{\footnotesize\ttfamily cellworld\+::\+Scenario\+::\+Scenario (\begin{DoxyParamCaption}\item[{int}]{size\+\_\+x = {\ttfamily 0},  }\item[{int}]{size\+\_\+y = {\ttfamily 0} }\end{DoxyParamCaption})}



Конструктор сценария 

Параметры используется для конструирования класса поля. По умолчанию\+:
\begin{DoxyItemize}
\item Стартовая популяция равна 0;
\item мир ацикличен; 
\end{DoxyItemize}

\doxysubsection{Методы}
\Hypertarget{classcellworld_1_1_scenario_a97f8d0b2e9e71a831a3e53cc8b483e87}\label{classcellworld_1_1_scenario_a97f8d0b2e9e71a831a3e53cc8b483e87} 
\index{cellworld::Scenario@{cellworld::Scenario}!convertInput@{convertInput}}
\index{convertInput@{convertInput}!cellworld::Scenario@{cellworld::Scenario}}
\doxysubsubsection{\texorpdfstring{convertInput()}{convertInput()}}
{\footnotesize\ttfamily Position cellworld\+::\+Scenario\+::convert\+Input (\begin{DoxyParamCaption}\item[{Im\+Vec2}]{begin,  }\item[{Im\+Vec2}]{input,  }\item[{int}]{square\+\_\+size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Переводит координату пикселя экрана в логическую позицию 


\begin{DoxyParams}{Аргументы}
{\em begin} & -\/ начала окна \\
\hline
{\em input} & -\/ данная координата для перевода \\
\hline
{\em square\+\_\+size} & -\/ размер стороны квадрата пикселей, выдающие одну и ту же логическую позицию \\
\hline
\end{DoxyParams}


\doxysubsection{Документация по друзьям класса и функциям, относящимся к классу}
\Hypertarget{classcellworld_1_1_scenario_a2500e88fabeb3899afc8278ba212432b}\label{classcellworld_1_1_scenario_a2500e88fabeb3899afc8278ba212432b} 
\index{cellworld::Scenario@{cellworld::Scenario}!loadWorld@{loadWorld}}
\index{loadWorld@{loadWorld}!cellworld::Scenario@{cellworld::Scenario}}
\doxysubsubsection{\texorpdfstring{loadWorld}{loadWorld}}
{\footnotesize\ttfamily void load\+World (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{path,  }\item[{\mbox{\hyperlink{classcellworld_1_1_scenario}{Scenario}} \texorpdfstring{$\ast$}{*}}]{current\+\_\+field,  }\item[{unsigned int \&}]{seed }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [friend]}}



Функция загрузки мира 


\begin{DoxyParams}[1]{Аргументы}
\mbox{\texttt{ in}}  & {\em path} & -\/ путь к файлу, из которого загружается \\
\hline
\mbox{\texttt{ out}}  & {\em current\+\_\+field} & -\/ указатель на сценарий, куда надо загрузить информацию из файла \\
\hline
\mbox{\texttt{ out}}  & {\em current\+\_\+field} & -\/ переменная, куда надо загрузить сид \\
\hline
\end{DoxyParams}
\Hypertarget{classcellworld_1_1_scenario_af70e8941de1d6a4f4170663d5d715982}\label{classcellworld_1_1_scenario_af70e8941de1d6a4f4170663d5d715982} 
\index{cellworld::Scenario@{cellworld::Scenario}!saveWorld@{saveWorld}}
\index{saveWorld@{saveWorld}!cellworld::Scenario@{cellworld::Scenario}}
\doxysubsubsection{\texorpdfstring{saveWorld}{saveWorld}}
{\footnotesize\ttfamily void save\+World (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{path,  }\item[{\mbox{\hyperlink{classcellworld_1_1_scenario}{Scenario}} \texorpdfstring{$\ast$}{*}}]{current\+\_\+field,  }\item[{const unsigned int \&}]{seed }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [friend]}}



Функция сохранение мира 


\begin{DoxyParams}[1]{Аргументы}
\mbox{\texttt{ out}}  & {\em path} & -\/ путь к файлу, в котором сохраняется мир \\
\hline
\mbox{\texttt{ in}}  & {\em current\+\_\+field} & -\/ указатель на сохраняемый мир \\
\hline
\mbox{\texttt{ in}}  & {\em current\+\_\+field} & -\/ текущий сид \\
\hline
\end{DoxyParams}


Объявления и описания членов классов находятся в файлах\+:\begin{DoxyCompactItemize}
\item 
objects/scenario/include/scenario/scenario.\+h\item 
objects/scenario/scenario.\+cpp\end{DoxyCompactItemize}
